/* ==========================
   App.css â€” Core design tokens & app shell
   ========================== */

:root{
  /* Spacing (keep) */
  --space-1: 0.13rem;
  --space-2: 0.22rem;
  --space-3: 0.36rem;
  --space-4: 0.50rem;
  --space-5: 0.64rem;
  --space-6: 0.78rem;
  --space-8: 1.00rem;
  --space-10: 1.22rem;
  --space-12: 1.44rem;

  /* Type scale (keep) */
  --font-size-lg: 1.0rem;
  --font-size-base: 0.80rem;
  --font-size-sm:   0.74rem;
  --font-size-xs:   0.72rem;

  /* Radii */
  --radius: 4px;
  --radius-lg: 6px;

  /* Card/grid defaults */
  --card-pad: var(--space-6);
  --grid-gap: var(--space-3);

  /* ===== Refined DARK theme surfaces ===== */
  --bg-page: linear-gradient(135deg, #09121f 0%, #0b1828 50%, #0f1f33 100%);
  --bg-base: #0a1424;
  --bg-card: #111d32;
  --bg-card-2: #14243d;
  --bg-hover: rgba(0, 162, 255, 0.1);

  /* Header & Sidebar blues */
  --header-bg: linear-gradient(90deg, #002d5e 0%, #004080 100%);
  --sidebar-bg: linear-gradient(180deg, #002c59 0%, #003b73 100%);

  /* Text */
  --text-primary:   #f5f8ff;
  --text-secondary: #cfdcf0;
  --text-muted:     #8fa4c2;

  /* Accents */
  --color-cerulean: #28b7ff;
  --color-violet:   #8a6cff;
  --color-mint:     #16ffc6;
  --color-amber:    #ffb84a;
  --color-rose:     #ff5b8f;
  --color-lime:     #a4ff4d;
  --color-cyan:     #36e0ff;
  --color-fuchsia:  #ff5df1;

  /* Semantic aliases */
  --color-primary:    var(--color-cerulean);
  --color-secondary:  var(--color-violet);
  --color-tertiary:   var(--color-mint);
  --color-quaternary: var(--color-rose);
  --color-quinary:    var(--color-cyan);
  --color-success:    var(--color-mint);
  --color-warning:    var(--color-amber);

  /* Borders & shadows */
  --border-color: rgba(255, 255, 255, 0.12);
  --shadow-md: 0 4px 20px rgba(0,0,0,.45), 0 0 10px rgba(40,183,255,.08);
  --shadow-lg: 0 8px 32px rgba(0,0,0,.55), 0 0 16px rgba(40,183,255,.10);

  /* Motion */
  --transition-fast: 140ms ease;
  --transition-normal: 220ms ease;

  /* Global type tokens */
  --text-line-height: 0.82rem;
  --text-letter-spacing: initial;
  --text-weight: 400;

  /* Sidebar widths */
  --sidebar-width: 280px;
  --sidebar-width-collapsed: 80px;

  /* Misc */
  --focus-ring: 2px solid var(--color-primary);

  /* Shadows (component-specific, dark) */
  --shadow-header: 0 2px 10px rgba(0,0,0,.45), 0 1px 0 rgba(255,255,255,.02) inset;
  --shadow-surface: 0 4px 20px rgba(0,0,0,.45), 0 0 10px rgba(40,183,255,.08);
  --shadow-float: 0 12px 36px rgba(0,0,0,.55), 0 2px 12px rgba(40,183,255,.10);
}

/* Sidebar state mapping */
:root { --sidebar-w: var(--sidebar-width); }
:root[data-sidebar="collapsed"] { --sidebar-w: var(--sidebar-width-collapsed); }

/* ==========================
   Light mode overrides
   ========================== */

:root[data-theme="light"]{
  --bg-page: linear-gradient(135deg, #e7f1ff 0%, #f2f7fd 50%, #f9fbff 100%);
  --bg-base: #f4f8fd;
  --bg-card: #ffffff;
  --bg-card-2: #f3f6fa;
  --bg-hover: rgba(0, 102, 255, 0.08);

  /* Header & Sidebar blues (bright + cool) */
  --header-bg: linear-gradient(90deg, #0072ff 0%, #00a1ff 100%);
  --sidebar-bg: linear-gradient(180deg, #0076e3 0%, #0090ff 100%);

  /* Text */
  --text-primary:   #0c1424;
  --text-secondary: #1e2d46;
  --text-muted:     #637290;

  /* Accents */
  --color-cerulean: #0078d7;
  --color-violet:   #6d5cff;
  --color-mint:     #00bfa6;
  --color-amber:    #f59e0b;
  --color-rose:     #e84855;
  --color-lime:     #69c943;
  --color-cyan:     #24b9d7;
  --color-fuchsia:  #c71ed6;

  /* Aliases */
  --color-primary:    var(--color-cerulean);
  --color-secondary:  var(--color-violet);
  --color-tertiary:   var(--color-mint);
  --color-quaternary: var(--color-rose);
  --color-quinary:    var(--color-cyan);
  --color-success:    var(--color-mint);
  --color-warning:    var(--color-amber);

  /* Borders & shadows */
  --border-color: rgba(12, 18, 32, 0.08);
  --shadow-md: 0 2px 6px rgba(16,24,40,.08);
  --shadow-lg: 0 8px 24px rgba(16,24,40,.12);

  /* Shadows (light) */
  --shadow-header: 0 2px 8px rgba(16,24,40,.08);
  --shadow-surface: 0 1px 3px rgba(16,24,40,.06), 0 1px 2px rgba(16,24,40,.04);
  --shadow-float: 0 12px 24px rgba(16,24,40,.12), 0 4px 8px rgba(16,24,40,.06);
}

/* ==========================
   Base app layout
   ========================== */

.App {
  display: flex;
  flex-direction: column;
  min-height: 100dvh;
}

.app-container {
  position: relative;
  display: flex;      /* sidebar + main */
  flex: 1 1 auto;
  min-height: 0;      /* allow children to scroll correctly */
  background: var(--bg-base);
}

.main-content {
  position: relative;
  flex: 1 1 auto;
  min-height: 0;
  background: var(--bg-base);
  line-height: 1.65;
  overflow-x: hidden;
}

/* ==========================
   Utilities
   ========================== */

.focus-visible {
  outline: var(--focus-ring);
  outline-offset: 2px;
}

.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

/* Lightweight link styling that respects themes */
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}
a:hover { text-decoration: underline; }

/* ==========================
   Loading helpers
   ========================== */

.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8);
  color: var(--text-muted);
}

.spinner {
  width: 20px;
  height: 20px;
  border: 2px solid rgba(0, 212, 255, 0.2);
  border-top: 2px solid var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Only animation we keep (spinner) */
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Prefer reduced motion: tone down transitions where possible */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* ==========================
   Auth redirect UI
   ========================== */

.auth-redirect {
  min-height: calc(100dvh - 64px);
  display: grid;
  place-items: center;
  padding: var(--space-10);
  background: var(--bg-page);
}

.auth-card {
  width: min(720px, 92vw);
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: clamp(1.25rem, 2.5vw, 2rem);
  text-align: center;
}

.auth-logo {
  height: 44px;
  width: auto;
  margin-bottom: var(--space-6);
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.05));
}

.auth-title {
  margin: 0 0 var(--space-3);
  font-size: 1.35rem;
  font-weight: 600;
  letter-spacing: 0.2px;
  color: var(--text-secondary);
}

.auth-sub {
  margin: 0 0 var(--space-6);
  color: var(--text-muted);
  font-size: var(--font-size-sm);
}

.auth-spinner {
  width: 28px;
  height: 28px;
  margin: 0 auto var(--space-6);
  border: 3px solid rgba(59,130,246,.18);
  border-top: 3px solid var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.auth-hint {
  margin: 0 0 var(--space-4);
  color: var(--text-muted);
  font-size: var(--font-size-sm);
}

.auth-actions {
  display: flex;
  gap: var(--space-4);
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: var(--space-6);
}

/* Reuse your button style; add a "ghost" variant */
.hlite-btn.ghost {
  background: transparent;
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
  transition: background var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast);
}
.hlite-btn.ghost:hover {
  background: var(--bg-hover);
  transform: translateY(-1px);
}

.auth-footnote {
  color: var(--text-muted);
  font-size: var(--font-size-xs);
  border-top: 1px dashed var(--border-color);
  padding-top: var(--space-4);
}

/* ==========================
   Nice global scrollbars (optional, light touch)
   ========================== */

* {
  scrollbar-width: thin;                         /* Firefox */
  scrollbar-color: rgba(255,255,255,0.35) transparent;
}

:root[data-theme="light"] * {
  scrollbar-color: rgba(12,18,32,0.35) transparent;
}

*::-webkit-scrollbar {
  width: 8px; height: 8px;
}
*::-webkit-scrollbar-track {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.18);
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
  transition: background var(--transition-fast), opacity var(--transition-fast);
}
*::-webkit-scrollbar-thumb:hover {
  background: rgba(255,255,255,0.28);
}

:root[data-theme="light"] *::-webkit-scrollbar-thumb {
  background: rgba(12,18,32,0.22);
}
:root[data-theme="light"] *::-webkit-scrollbar-thumb:hover {
  background: rgba(12,18,32,0.34);
}
