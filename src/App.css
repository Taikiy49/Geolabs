/* ==========================
   App.css â€” Outlook-style theme tokens
   ========================== */

:root {
  /* Spacing */
  --space-1: 0.125rem;
  --space-2: 0.25rem;
  --space-3: 0.375rem;
  --space-4: 0.5rem;
  --space-5: 0.75rem;
  --space-6: 0.875rem;
  --space-8: 1rem;
  --space-10: 1.25rem;
  --space-12: 1.5rem;

  /* Type scale */
  --font-size-xl: 1.25rem;
  --font-size-lg: 1.0rem;
  --font-size-base: 0.875rem;
  --font-size-sm: 0.78rem;
  --font-size-xs: 0.72rem;
  --font-size-xxs: 0.64rem;

  /* Radii */
  --radius: 2px;
  --radius-lg: 4px;

  /* Layout defaults */
  --card-pad: var(--space-6);
  --grid-gap: var(--space-4);
  --main-pad: var(--space-4) var(--space-6);

  /* ===== Outlook-like LIGHT palette ===== */
  /* Surfaces */
  --bg-page: #f3f6fc;
  --bg-base: #f6f8fd;
  --bg-card: #ffffff;
  --bg-card-2: #f2f5fb;
  --bg-hover: rgba(0, 120, 212, 0.10);

  /* Header & Sidebar (Microsoft blue family) */
  --header-bg: linear-gradient(90deg, #0b64d8 0%, #0a5ed0 100%);
  --sidebar-bg: linear-gradient(180deg, #0a5ed0 0%, #0953be 100%);

  /* Text */
  --text-primary:   #0c1a33;
  --text-secondary: #243654;
  --text-muted:     #6a7a96;

  /* Accents */
  --color-primary:   #0a5ed0;
  --color-secondary: #1266f1;
  --color-cerulean:  #0a5ed0;
  --color-violet:    #6d5cff;
  --color-mint:      #00bfa6;
  --color-amber:     #f59e0b;
  --color-rose:      #e84855;
  --color-lime:      #69c943;
  --color-cyan:      #24b9d7;
  --color-fuchsia:   #c71ed6;

  /* Status aliases */
  --color-success:   #0aa66e;
  --color-warning:   #f59e0b;
  --color-danger:    #e84855;

  /* Icons */
  --icon-on-sidebar: #ffffff;
  --icon-on-header:  #ffffff;

  /* Borders & shadows */
  --border-color: rgba(12, 26, 51, 0.10);
  --shadow-surface: 0 1px 3px rgba(16,24,40,.06), 0 1px 2px rgba(16,24,40,.04);
  --shadow-float:   0 10px 24px rgba(16,24,40,.14), 0 3px 8px rgba(16,24,40,.10);

  /* Motion */
  --transition-fast:   140ms ease;
  --transition-normal: 220ms ease;

  /* Misc */
  --focus-ring: 2px solid var(--color-primary);
  --text-line-height: 1.35;
  --text-letter-spacing: normal;
  --text-weight: 400;

  /* Sidebar widths */
  --sidebar-width: 130px;                 /* <- updated default */
  --sidebar-width-collapsed: 80px;
  --sidebar-w: var(--sidebar-width);
}

/* ==========================
   Base app layout
   ========================== */

.App {
  display: flex;
  flex-direction: column;
  min-height: 100dvh;
}

/* (Old) container + main if used elsewhere */
.app-container {
  position: relative;
  display: flex;
  flex: 1 1 auto;
  min-height: 0;
  background: var(--bg-base);
}
.main-content {
  position: relative;
  flex: 1 1 auto;
  min-height: 0;
  background: var(--bg-base);
  line-height: 1.65;
  overflow-y: hidden;
}

/* ==========================
   Utilities
   ========================== */

.focus-visible { outline: var(--focus-ring); outline-offset: 2px; }

.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}
a:hover { text-decoration: underline; }

/* ==========================
   Loading helpers
   ========================== */

.loading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8);
  color: var(--text-muted);
}

.spinner {
  width: 20px; height: 20px;
  border: 2px solid rgba(0, 212, 255, 0.2);
  border-top: 2px solid var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }

@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* ==========================
   Auth redirect UI
   ========================== */

.auth-redirect {
  min-height: calc(100dvh - 64px);
  display: grid;
  place-items: center;
  padding: var(--space-10);
  background: var(--bg-page);
}

.auth-card {
  width: min(720px, 92vw);
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: clamp(1.25rem, 2.5vw, 2rem);
  text-align: center;
}

.auth-logo { height: 44px; width: auto; margin-bottom: var(--space-6); filter: drop-shadow(0 1px 0 rgba(0,0,0,.05)); }

.auth-title {
  margin: 0 0 var(--space-3);
  font-size: 1.35rem;
  font-weight: 600;
  letter-spacing: 0.2px;
  color: var(--text-secondary);
}
.auth-sub { margin: 0 0 var(--space-6); color: var(--text-muted); font-size: var(--font-size-sm); }

.auth-spinner {
  width: 28px; height: 28px; margin: 0 auto var(--space-6);
  border: 3px solid rgba(59,130,246,.18);
  border-top: 3px solid var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.auth-hint { margin: 0 0 var(--space-4); color: var(--text-muted); font-size: var(--font-size-sm); }

.auth-actions {
  display: flex; gap: var(--space-4);
  justify-content: center; flex-wrap: wrap;
  margin-bottom: var(--space-6);
}

.hlite-btn.ghost {
  background: transparent; color: var(--text-secondary);
  border: 1px solid var(--border-color);
  transition: background var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast);
}
.hlite-btn.ghost:hover { background: var(--bg-hover); transform: translateY(-1px); }

.auth-footnote {
  color: var(--text-muted);
  font-size: var(--font-size-xs);
  border-top: 1px dashed var(--border-color);
  padding-top: var(--space-4);
}

/* ==========================
   Nice global scrollbars
   ========================== */

* { scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.35) transparent; }
:root[data-theme="light"] * { scrollbar-color: rgba(12,18,32,0.35) transparent; }

*::-webkit-scrollbar { width: 8px; height: 8px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.18);
  border-radius: 8px; border: 2px solid transparent; background-clip: padding-box;
  transition: background var(--transition-fast), opacity var(--transition-fast);
}
*::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.28); }
:root[data-theme="light"] *::-webkit-scrollbar-thumb { background: rgba(12,18,32,0.22); }
:root[data-theme="light"] *::-webkit-scrollbar-thumb:hover { background: rgba(12,18,32,0.34); }

/* =======================================================
   NEW: App two-column layout (Sidebar + Main)
   ======================================================= */

.app-layout {
  display: grid;
  grid-template-columns: var(--sidebar-w) minmax(0, 1fr);
  height: calc(100dvh - 44px); /* header height */
  background: var(--bg-base);
}

/* Ensure the Sidebar never stretches to full width */
.app-layout > .sb {
  width: var(--sidebar-w);
  flex: 0 0 var(--sidebar-w); /* safety if a parent becomes flex */
}

/* Main scrolls; sidebar stays sticky (handled in Sidebar.css) */
.app-main {
  min-width: 0;
  overflow: auto;
}

/* Responsive: single column under 860px */
@media (max-width: 860px) {
  .app-layout {
    grid-template-columns: 1fr;
  }
}

/* =======================================================
   Buttons used on login screen (keep simple)
   ======================================================= */

.hlite-btn {
  background: var(--color-primary);
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 0.55rem 0.85rem;
  cursor: pointer;
}
.hlite-btn:hover { filter: brightness(1.05); }
